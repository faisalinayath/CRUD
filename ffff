
        [HttpPost]
        [ValidateAntiForgeryToken]
        public async Task<IActionResult> Create(Property obj)
        {
            if (ModelState.IsValid)
            {
                if (obj.Photo != null)
                {
                    string folder = "ImagesUpload/";
                    string uniqueFileName = Guid.NewGuid().ToString() + "_" + obj.Photo.FileName;
                    string serverFolder = Path.Combine(_hostEnvironment.WebRootPath, folder);
                    string filePath = Path.Combine(serverFolder, uniqueFileName);

                    using (var fileStream = new FileStream(filePath, FileMode.Create))
                    {
                        await obj.Photo.CopyToAsync(fileStream);
                    }

                    // Update the Image_Path property of the obj
                    obj.Image_Path = Path.Combine(folder, uniqueFileName);

                    _db.Property.Add(obj);
                    _db.SaveChanges();
                    return RedirectToAction("Index","Home");
                }
            }

            return View(obj);
        }
